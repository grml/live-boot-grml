.TH LIVE\-INITRAMFS 7 "2007\-07\-02" "1.91.3" "live\-initramfs"

.SH NAME
live\-initramfs \- Debian Live initramfs hook

.SH SYNOPSIS
.B BOOT=live
as kernel parameter at boot prompt.

.SH DESCRIPTION
live\-initramfs is a hook for the initramfs\-tools, used to generate a initramfs capable to boot live systems, such as those created by \fIlive\-helper\fR(7). This includes the Debian Live isos, netboot tarballs, and usb stick images.
.PP
At boot time it will look for a (read\-only) media containing a "/live" directory where a root filesystems (often a compressed filesystem image like squashfs) is stored. If found, it will create a writable environment, using unionfs, for Debian like systems to boot from.
.PP
You probably do not want to install this package onto a non-live system, although it will do no harm.
.PP
live\-initramfs is a fork of casper <\fIhttp://packages.ubuntu.com/casper/\fR>. casper was originally written by Tollef Fog Heen <\fItfheen@canonical.com\fR> and Matt Zimmerman <\fImdz@canonical.com\fR>.

.SH BOOT OPTIONS
Here is the complete list of recognized boot parameters by live\-initramfs.
.IP "\fBaccess=\fR\fIACCESS\fR" 4
Set the accessibility level for physically or visually impared users. ACCESS must be one of v1, v2, v3, m1, or m2. v1=lesser visual impairment, v2=moderate visual impairment, v3=blindness, m1=minor motor difficulties, m2=moderate motor difficulties.
.IP "\fBconsole=\fR\fITTY\fR,\fISPEED\fR" 4
Set the default console to be used with the "live\-getty" option. Example: "console=ttyS0,115200"
.IP "\fBhostname=\fR\fIHOSTNAME\fR, \fBusername=\fR\fIUSER\fR, \fBuserfullname=\fR\fIUSERFULLNAME\fR"4
Those parameters lets you override values read from the config file.
.IP "\fBintegrity\-check\fR" 4
If specified, an MD5 sum is calculated on the live media during boot and compared to the value found in md5sum.txt found in the root directory of the live media.
.IP "\fBip=\fR\fI[CLIENT_IP]:[SERVER_IP]:[GATEWAY_IP]:[NETMASK]:[HOSTNAME]:[DEVICE]:[AUTOCONF] [,[CLIENT_IP]:[SERVER_IP]:[GATEWAY_IP]:[NETMASK]:[HOSTNAME]:[DEVICE]:[AUTOCONF]]\fR*" 4
Let you specify the name(s) and the options of the interface(s) that should be configured at boot time. Do not specify this if you want to use dhcp (default). It will be changed in a future release to mimick official kernel boot param specification (e.g. ip=10.0.0.1::10.0.0.254:255.255.255.0::eth0,:::::eth1:dhcp).
.IP "\fBip\fR[=frommedia]" 4
If this variable is set, dhcp and static configuration are just skipped and the system will use the (must be) media\-preconfigured /etc/network/interfaces instead.
.IP "\fB{keyb|kbd\-chooser/method}=\fR\fIKEYBOARD\fR, \fB{klayout|console\-setup/layoutcode}=\fR\fILAYOUT\fR, \fB{kvariant|console\-setup/variantcode}=\fR\fIVARIANT\fR, \fB{kmodel|console\-setup/modelcode}=\fR\fICODE\fR, \fBkoptions=\fR\fIOPTIONS\fR" 4
Configure the running keyboard as specified, if this one misses live\-initramfs behaves as if "keyb=us" was specified. It will be interfered from "locale=" if locale is only 2 lowecase letters as a special case. You could also specify console layout, variant, code, and options (no defaults).
.IP "\fBlive\-getty\fR" 4
This changes the auto\-login on virtual terminals to use the (experimental) live\-getty code. With this option set the standard kernel argument "console=" is parsed and if a serial console is specified then live\-getty is used to autologin on the serial console.
.IP "\fB{live\-media|bootfrom}=\fR\fIDEVICE\fR" 4
If you specify one of this two equivalent forms, live\-initramfs will first try to find this device for the "/live" directory where the read\-only root filesystem should reside. If it did not find something usable, the normal scan for block devices is performed.
.IP "\fB{live\-media\-encryption|encryption}=\fR\fITYPE\fR" 4
live\-initramfs will mount the encrypted rootfs TYPE, asking the passphrase, useful to build paranoid live systems :\-). TYPE supported so far are "aes" for loop\-aes encryption type.
.IP "\fBlive\-media\-offset=\fR\fIBYTES\fR" 4
This way you could tell live\-initramfs that your image starts at offset BYTES in the above specified or autodiscovered device, this could be useful to hide the Debian Live iso or image inside another iso or image, to create "clean" images.
.IP "\fBlive\-media\-timeout=\fR\fISECONDS\fR" 4
Set the timeout in seconds for the device specified by "live\-media=" to become ready before giving up.
.IP "\fB{locale|debian\-installer/locale}=\fR\fILOCALE\fR" 4
Configure the running locale as specified, if not present the live\-media rootfs configured locale will be used and if also this one misses live\-initramfs behave as "locale=en_US.UTF\-8" was specified. If only 2 lowercase letter are specified (like "it"), the "maybe wanted" locale is generated (like en:EN.UTF\-8), in this case if also "keyb=" is unspecified is set with those 2 lowercase letters (keyb=us). Beside that facility, only UTF8 locales are supported by live\-initramfs.
.IP "\fBmodule=\fR\fINAME\fR" 4
Instead of using the default optional file "filesystem.module" (see below) another file could be specified without the extension ".module"; it should be placed on "/live" directory of the live medium.
.IP "\fBnetboot\fR[=nfs|cifs]" 4
This tells live\-initramfs to perform a network mount. The parameter "nfsroot=" (with optional "nfsopts="), should specify where is the location of the root filesystem.  With no args, will try cifs first, and if it fails nfs.
.IP "\fBnfsopts=\fR" 4
This lets you specify custom nfs options.
.IP "\fBnoautologin\fR" 4
This parameter disables the automatic terminal login only, not touching gdk/kdm.
.IP "\fBnoxautologin\fR" 4
This parameter disables the automatic login of gdm/kdm only, not touching terminals.
.IP "\fBnofastboot\fR" 4
This parameter disables the default disabling of filesystem checks in /etc/fstab. If you have static filesystems on your harddisk and you want them to be checked at boot time, use this parameter, otherwise they are skipped.
.IP "\fBnopersistent\fR" 4
disables the "persistent" feature, useful if the bootloader (like syslinux) has been installed with persistent enabled.
.IP "\fBnosudo\fR" 4
This parameter disables the automatic configuration of sudo.
.IP "\fBnoswap\fR" 4
This parameter disables usage of local swap partitions.
.IP "\fBpersistent\fR" 4
live\-initramfs will look for persistent and snapshot partitions or files labeled "live\-rw", "home\-rw", and files called "live\-sn*", "home\-sn*" and will try to, in order: mount as /cow the first, mount the second in /home, and just copy the contents of the latter in appropriate locations (snapshots). Snapshots will be tried to be updated on reboot/shutdown. Look at \fIlive\-snapshot\fR(1) for more informations.
.IP "\fB{preseed/file|file}=\fR\fIFILE\fR" 4
A path to a file present on the rootfs could be used to preseed debconf database.
.IP "\fBpackage/question=\fR\fIVALUE\fR" 4
All debian installed packages could be preseeded from command\-line that way, beware of blanks spaces, they will interfere with parsing, use a preseed file in this case.
.IP "\fBquickreboot\fR" 4
This option causes live\-initramfs to reboot without attempting to eject the media and without asking the user to remove the boot media.
.IP "\fBshowmounts\fR" 4
This parameter will make live\-initramfs to show on "/" the ro filesystems (mostly compressed) on "/live". This is not enabled by default because could lead to problems by applications like "mono" which store binary paths on installation.
.IP "\fBtimezone=\fR\fITIMEZONE" 4
By default, timezone is set to UTC. Using the timezone parameter, you can set it to your local zone, e.g. Europe/Zurich.
.IP "\fBtodisk=\fR\fIDEVICE" 4
Adding this parameter, live\-initramfs will try to copy the entire read\-only media to the specified device before mounting the root filesystem. It probably needs a lot of free space. Subsequent boots should then skip this step and just specify the "live\-media=DEVICE" boot parameter with the same DEVICE used this time.
.IP "\fBtoram\fR" 4
Adding this parameter, live\-initramfs will try to copy the whole read\-only media to the computer's RAM before mounting the root filesystem. This could need a lot of ram, according to the space used by the read\-only media.
.IP "\fBunion=\fRunionfs|aufs" 4
By default, live-initramfs uses unionfs. With this parameter, you can switch to aufs.
.IP "\fBxdebconf\fR" 4
uses xdebconfigurator, if present on the rootfs, to configure X instead of the standard procedure (experimental).
.IP "\fBxvideomode=\fR\fIRESOLUTION\fR" 4
doesn't do xorg autodetection, but enforces a given resolution.

.SH FILES
.B /etc/live.conf
some variables can be configured via this config file (inside the live system).
.TP
.B /live/filesystem.module
This optional file (inside the live media) contains a list of white\-space or carriage\-return\-separated file names corresponding to disk images in the "/live" directory. If this file exists, only images listed here will be merged into the root unionfs, and they will be loaded in the order listed here. The first entry in this file will be the "lowest" point in the unionfs, and the last file in this list will be on the "top" of the unionfs, directly below /cow.  Without this file, any images in the "/live" directory are loaded in alphanumeric order.

.SH SEE ALSO
\fIlive\-snapshot\fR(1)
.PP
\fIinitramfs\-tools\fR(8)
.PP
\fIlive\-helper\fR(7)
.PP
\fIlive\-initscripts\fR(7)
.PP
\fIlive\-webhelper\fR(7)

.SH BUGS
Report bugs against live\-initramfs <\fIhttp://packages.qa.debian.org/live\-initramfs/\fR>.

.SH HOMEPAGE
More information about the Debian Live project can be found at <\fIhttp://debian\-live.alioth.debian.org/\fR> and <\fIhttp://wiki.debian.org/DebianLive/\fR>.

.SH AUTHORS
live\-initramfs is maintained by Daniel Baumann <\fIdaniel@debian.org\fR> and Marco Amadori <\fImarco.amadori@gmail.com\fR> for the Debian project.
.PP
live\-initramfs is a fork of casper <\fIhttp://packages.ubuntu.com/casper/\fR>. casper was originally written by Tollef Fog Heen <\fItfheen@canonical.com\fR> and Matt Zimmerman <\fImdz@canonical.com\fR>.
